# Boas Práticas no SQL

## Create Table

Nome das tabelas no plural.
Criação de índices: para recuperar dados mais rapidamente

```SQL
CREATE TABLE PRODUTOS (
    CODIGO        INT         NOT NULL,
    DESCRICAO     VARCHAR(50) NOT NULL,
    DATA_VALIDADE DATETIME,
    EAN           VARCHAR(15) NOT NULL,
    IND_INATIVO   INT         NOT NULL DEFAULT 0
);

ALTER TABLE PRODUTOS
    ADD CONSTRAINT PK_PRODUTOS
        PRIMARY KEY (CODIGO)
;

CREATE INDEX IDX_PRODUTOS_EAN
          ON PRODUTOS(EAN)
;

INSERT INTO PRODUTOS VALUES (1, 'Nome do Produto', GETDATE(), '1234567890', 0);

SELECT COUNT(*) AS TOTAL
    FROM PRODUTOS
;

CREATE TABLE LOJAS (
    CODIGO      INT         NOT NULL,
    NOME        VARCHAR(50) NOT NULL,
    IND_INATIVO INT         NOT NULL DEFAULT 0,
    CONSTRAINT LOJAS_PK PRIMARY KEY(CODIGO)
);

CREATE TABLE ESTOQUE (
    CODIGO_PRODUTO INT NOT NULL,
    CODIGO_FILIAL  INT NOT NULL,
    QUANTIDADE     DECIMAL NOT NULL DEFAULT 0,
    CONSTRAINT ESTOQUE_PK PRIMARY KEY(CODIGO_PRODUTO, CODIGO_FILIAL)
);

ALTER TABLE
    ADD CONSTRAINT  FK_ESTOQUE_PRODUTOS
        FOREIGN KEY (CODIGO_PRODUTO)
        REFERENCES  PRODUTOS(CODIGO)
;

ALTER TABLE
    ADD CONSTRAINT  FK_ESTOQUE_LOJAS
        FOREIGN KEY (CODIGO_FILIAL)
        REFERENCES  LOJAS(CODIGO)
;

```